manifest {
    homePage    = 'https://github.com/TheJacksonLaboratory/splicing-pipelines-nf/'
    description = 'Nextflow Implementation of Anczukow-Lab workflow for alternative splicing processing'
    mainScript  = 'main.nf'
}

params {
    // Defaults 
    // Main arguments
    reads 		     = false
    singleEnd                = false

    // Reads
    stranded                 = false
    b1                       = false
    b2                       = false
    adapter                  = 'NO_FILE'
    readLength               = 48
    overhang                 = false
    mismatch                 = 2

    // Other
    skiprMATS                = false
    skipMultiQC              = false
    outdir                   = 'results'   

    star_index               = false
    gtf                      = false
    keyFile                  = 'NO_FILE'
    starIndexPath            = false
    cutoffSplicingDifference = 0.001
    analysisType             = 'U'
    novelDetectionFlag       = 1
    anchorLength             = 8

    // Required
    accessionList           = false
    help                    = false
}

process {
  container = 'gcr.io/nextflow-250616/splicing-pipelines-nf'
  withName: 'rmats' {
      container = 'gcr.io/nextflow-250616/rmats:4.0.2'
  }
  withName: 'paired_rmats' {
    container = 'gcr.io/nextflow-250616/rmats:4.0.2'
  }
}

profiles {
  standard {
     includeConfig 'conf/executors/sumner.config'
     includeConfig 'conf/examples/test.config'
     includeConfig 'conf/examples/test_pe.config'
  }
  
  docker { docker.enabled = true }
  base { includeConfig 'conf/executors/base.config' }
  sumner { includeConfig 'conf/executors/sumner.config' }
  MYC_MCF10A_0h_vs_MYC_MCF10A_8h { includeConfig 'conf/examples/MYC_MCF10A_0h_vs_MYC_MCF10A_8h.config' }
  MYC_MCF10A_0h_vs_MYC_MCF10A_8h_sumner { includeConfig 'conf/examples/MYC_MCF10A_0h_vs_MYC_MCF10A_8h_sumner.config' }
  test { includeConfig 'conf/examples/test.config' }
  test_pe { includeConfig 'conf/examples/test_pe.config' }
}
