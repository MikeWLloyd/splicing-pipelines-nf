manifest {
    homePage    = 'https://github.com/TheJacksonLaboratory/splicing-pipelines-nf/'
    description = 'Nextflow Implementation of Anczukow-Lab workflow for alternative splicing processing'
    mainScript  = 'main.nf'
}

params {
    // Main arguments
    reads                    = false
    singleEnd                = false
    star_index               = false
    gtf                      = false
    assembly_name            = false

    // Reads
    stranded                 = false
    b1                       = false
    b2                       = false
    adapter                  = "$baseDir/examples/testdata/no_adapter.txt"
    readlength               = 48
    overhang                 = 100
    mismatch                 = 2

    // Other
    skiprMATS                = false
    skipMultiQC              = false
    outdir                   = 'results'   

    // From rmats-nf
    keyFile                  = 'NO_FILE'
    cutoffSplicingDifference = 0.001
    analysisType             = 'U'
    novelDetectionFlag       = 1
    anchorLength             = 8
    accessionList           = false
    help                    = false
}

process {
  container = 'gcr.io/nextflow-250616/splicing-pipelines-nf'
  withName: 'stringtie_merge' {
    container = 'gcr.io/nextflow-250616/splicing-pipelines-nf:bioconductor'
  }
  withName: 'rmats' {
    container = 'gcr.io/nextflow-250616/rmats:bioconductor'
  }
  withName: 'paired_rmats' {
    container = 'gcr.io/nextflow-250616/rmats:bioconductor'
  }
}

profiles {
  standard {
    includeConfig 'conf/executors/google.config'
   }  
  
  docker { docker.enabled = true }
  base { includeConfig 'conf/executors/base.config' }
  sumner { includeConfig 'conf/executors/sumner.config' }
  MYC_MCF10A_0h_vs_MYC_MCF10A_8h { includeConfig 'conf/examples/MYC_MCF10A_0h_vs_MYC_MCF10A_8h.config' }
  test { includeConfig 'conf/examples/test.config' }
  test_pe { includeConfig 'conf/examples/test_pe.config' }
}
